# Cloudflare Pages configuration for BuzzIn
name = "buzzin"
compatibility_date = "2024-12-01"

# Enable Node.js compatibility for Sharp and other Node.js modules
compatibility_flags = ["nodejs_compat"]

[vars]
# Environment variables are set in the Cloudflare dashboard:
# DATABASE_URL         - PostgreSQL connection (use Neon for CF compatibility)
# BETTER_AUTH_SECRET   - Auth secret (min 32 chars)
# APP_URL              - Production URL(s) for trusted origins
# GOOGLE_CLIENT_ID     - Google OAuth client ID
# GOOGLE_CLIENT_SECRET - Google OAuth client secret
# ADMIN_EMAILS         - Comma-separated admin emails
# ANTHROPIC_API_KEY    - For AI-generated wrong answers
# ELECTRIC_URL         - Electric Cloud endpoint
# ELECTRIC_SOURCE_ID   - Electric Cloud source ID
# ELECTRIC_SECRET      - Electric Cloud secret

# Build configuration
[build]
command = "pnpm build"

# Pages-specific settings
[pages]
build_output_dir = ".output/public"
